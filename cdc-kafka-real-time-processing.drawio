<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram name="CDC Kafka Real-time Processing" id="cdc-kafka-diagram">
    <mxGraphModel dx="1425" dy="828" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1700" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="&lt;b&gt;Change Data Capture (CDC) com Kafka&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="175" y="40" width="500" height="40" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="Processamento de Transações em Tempo Real" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="175" y="75" width="500" height="25" as="geometry" />
        </mxCell>
        <mxCell id="db-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="130" width="650" height="200" as="geometry" />
        </mxCell>
        <mxCell id="db-title" value="&lt;b&gt;BANCO DE DADOS RELACIONAL - POSTGRESQL&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=14;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="135" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="table-accounts" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="130" y="180" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="table-accounts-title" value="&lt;b&gt;accounts&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="130" y="185" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="table-accounts-fields" value="• id (PK)&#xa;• customer_id&#xa;• account_number&#xa;• balance&#xa;• status&#xa;• updated_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="145" y="215" width="150" height="85" as="geometry" />
        </mxCell>
        <mxCell id="table-transactions" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="335" y="180" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="table-transactions-title" value="&lt;b&gt;transactions&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="335" y="185" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="table-transactions-fields" value="• id (PK)&#xa;• account_id (FK)&#xa;• amount&#xa;• type (debit/credit)&#xa;• timestamp&#xa;• description" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="350" y="215" width="150" height="85" as="geometry" />
        </mxCell>
        <mxCell id="table-customers" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="540" y="180" width="180" height="130" as="geometry" />
        </mxCell>
        <mxCell id="table-customers-title" value="&lt;b&gt;customers&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="540" y="185" width="180" height="25" as="geometry" />
        </mxCell>
        <mxCell id="table-customers-fields" value="• id (PK)&#xa;• name&#xa;• email&#xa;• cpf&#xa;• risk_score&#xa;• created_at" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="555" y="215" width="150" height="85" as="geometry" />
        </mxCell>
        <mxCell id="wal-box" value="&lt;b&gt;Write-Ahead Log (WAL)&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=11;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="325" y="360" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wal-desc" value="Log de transações do PostgreSQL" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="325" y="403" width="200" height="15" as="geometry" />
        </mxCell>
        <mxCell id="arrow-db-wal" value="INSERT/UPDATE/DELETE" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;fontSize=9;fontStyle=2" parent="1" source="db-container" target="wal-box" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="450" as="sourcePoint" />
            <mxPoint x="450" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="cdc-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="460" width="650" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cdc-title" value="&lt;b&gt;FERRAMENTA CDC - DEBEZIUM&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=14;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="465" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="cdc-desc" value="Captura alterações em tempo real lendo o Write-Ahead Log" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="100" y="490" width="650" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdc-connector-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="150" y="525" width="550" height="95" as="geometry" />
        </mxCell>
        <mxCell id="cdc-connector-title" value="&lt;b&gt;Debezium PostgreSQL Connector&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="150" y="530" width="550" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cdc-feature1" value="&lt;b&gt;Snapshot Inicial&lt;/b&gt;&lt;br&gt;Captura estado atual" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=1;fontSize=9;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="170" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="cdc-feature2" value="&lt;b&gt;Streaming Contínuo&lt;/b&gt;&lt;br&gt;Lê WAL em tempo real" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=1;fontSize=9;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="310" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="cdc-feature3" value="&lt;b&gt;Schema Evolution&lt;/b&gt;&lt;br&gt;Adaptação automática" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=1;fontSize=9;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="450" y="560" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="cdc-feature4" value="&lt;b&gt;Exactly-Once&lt;/b&gt;&lt;br&gt;Garantia de entrega" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=1;fontSize=9;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="590" y="560" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="arrow-wal-cdc" value="Leitura do WAL" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;fontSize=9;fontStyle=2" parent="1" source="wal-box" target="cdc-container" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="550" as="sourcePoint" />
            <mxPoint x="450" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kafka-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="680" width="650" height="140" as="geometry" />
        </mxCell>
        <mxCell id="kafka-title" value="&lt;b&gt;TÓPICOS KAFKA - EVENTOS CDC&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=14;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="685" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kafka-desc" value="Cada tabela gera um tópico com eventos de mudança (INSERT, UPDATE, DELETE)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="100" y="710" width="650" height="20" as="geometry" />
        </mxCell>
        <mxCell id="topic1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="130" y="745" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="topic1-title" value="&lt;b&gt;db.accounts&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#ffffff;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="130" y="750" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="topic1-desc" value="Mudanças em contas" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="130" y="773" width="180" height="15" as="geometry" />
        </mxCell>
        <mxCell id="topic1-events" value="INSERT | UPDATE | DELETE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=8;fontColor=#FFFFFF;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="130" y="788" width="180" height="12" as="geometry" />
        </mxCell>
        <mxCell id="topic2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="335" y="745" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="topic2-title" value="&lt;b&gt;db.transactions&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#ffffff;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="335" y="750" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="topic2-desc" value="Mudanças em transações" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="335" y="773" width="180" height="15" as="geometry" />
        </mxCell>
        <mxCell id="topic2-events" value="INSERT | UPDATE | DELETE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=8;fontColor=#FFFFFF;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="335" y="788" width="180" height="12" as="geometry" />
        </mxCell>
        <mxCell id="topic3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="540" y="745" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="topic3-title" value="&lt;b&gt;db.customers&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#ffffff;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="540" y="750" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="topic3-desc" value="Mudanças em clientes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="540" y="773" width="180" height="15" as="geometry" />
        </mxCell>
        <mxCell id="topic3-events" value="INSERT | UPDATE | DELETE" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=8;fontColor=#FFFFFF;fontFamily=Courier New;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="540" y="788" width="180" height="12" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cdc-kafka" value="Publica eventos" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=3;exitX=0.5;exitY=1;entryX=0.5;entryY=0;fontSize=10;fontStyle=2" parent="1" source="cdc-container" target="kafka-container" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="750" as="sourcePoint" />
            <mxPoint x="450" y="700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="event-example-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="860" width="650" height="140" as="geometry" />
        </mxCell>
        <mxCell id="event-example-title" value="&lt;b&gt;ESTRUTURA DE UM EVENTO CDC&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="865" width="650" height="25" as="geometry" />
        </mxCell>
        <mxCell id="event-before" value="&lt;b&gt;before:&lt;/b&gt; { balance: 1000.00 }" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="900" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="event-after" value="&lt;b&gt;after:&lt;/b&gt; { balance: 750.00 }" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="920" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="event-op" value="&lt;b&gt;op:&lt;/b&gt; &quot;u&quot; (update)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="940" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="event-ts" value="&lt;b&gt;ts_ms:&lt;/b&gt; 1637583421000" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="960" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="event-source" value="&lt;b&gt;source:&lt;/b&gt; { table: &quot;accounts&quot;, lsn: 123456 }" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="980" width="280" height="15" as="geometry" />
        </mxCell>
        <mxCell id="event-note" value="&lt;b&gt;&amp;nbsp;Operações:&lt;/b&gt;&lt;br&gt;&amp;nbsp;• c = create (INSERT)&lt;br&gt;&amp;nbsp;• u = update (UPDATE)&lt;br&gt;&amp;nbsp;• d = delete (DELETE)&lt;br&gt;&amp;nbsp;• r = read (Snapshot)" style="text;html=1;strokeColor=#000000;fillColor=#ffffff;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=9;fontColor=#000000;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="450" y="900" width="260" height="85" as="geometry" />
        </mxCell>
        <mxCell id="consumers-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="1040" width="650" height="240" as="geometry" />
        </mxCell>
        <mxCell id="consumers-title" value="&lt;b&gt;MICROSERVIÇOS CONSUMIDORES&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=14;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="1045" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="consumers-desc" value="Processam eventos CDC para diferentes finalidades em tempo real" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="100" y="1070" width="650" height="20" as="geometry" />
        </mxCell>
        <mxCell id="consumer1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="130" y="1105" width="200" height="155" as="geometry" />
        </mxCell>
        <mxCell id="consumer1-title" value="&lt;b&gt;Serviço de Fraude&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=11;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="145" y="1115" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="consumer1-topics" value="&lt;b&gt;Consome:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="150" y="1153" width="160" height="12" as="geometry" />
        </mxCell>
        <mxCell id="consumer1-topic-list" value="• db.transactions&#xa;• db.accounts&#xa;• db.customers" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="155" y="1167" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="consumer1-process" value="&lt;b&gt;Processa:&lt;/b&gt;&lt;br&gt;• Padrões suspeitos&lt;br&gt;• Velocidade transações&lt;br&gt;• Score de risco" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=9;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="150" y="1206" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="consumer2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="355" y="1105" width="200" height="155" as="geometry" />
        </mxCell>
        <mxCell id="consumer2-title" value="&lt;b&gt;Atualização de Saldo&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=11;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="370" y="1115" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="consumer2-topics" value="&lt;b&gt;Consome:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="375" y="1153" width="160" height="12" as="geometry" />
        </mxCell>
        <mxCell id="consumer2-topic-list" value="• db.transactions&#xa;• db.accounts" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="380" y="1167" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="consumer2-process" value="&lt;b&gt;Processa:&lt;/b&gt;&lt;br&gt;• Cache de saldo atual&lt;br&gt;• Notificação em tempo real&lt;br&gt;• Dashboard atualizado&lt;br&gt;• Push notification" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=9;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="375" y="1196" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="consumer3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="580" y="1105" width="140" height="155" as="geometry" />
        </mxCell>
        <mxCell id="consumer3-title" value="&lt;b&gt;Analytics&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=11;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="590" y="1115" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="consumer3-topics" value="&lt;b&gt;Consome:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="590" y="1153" width="120" height="12" as="geometry" />
        </mxCell>
        <mxCell id="consumer3-topic-list" value="• Todos tópicos" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="595" y="1167" width="110" height="15" as="geometry" />
        </mxCell>
        <mxCell id="consumer3-process" value="&lt;b&gt;Processa:&lt;/b&gt;&lt;br&gt;• Data warehouse&lt;br&gt;• KPIs&lt;br&gt;• Relatórios&lt;br&gt;• Machine Learning" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=9;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="590" y="1190" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="arrow-kafka-c1" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.2;exitY=1;entryX=0.5;entryY=0;" parent="1" source="kafka-container" target="consumer1-box" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="1150" as="sourcePoint" />
            <mxPoint x="450" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-kafka-c2" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.359;entryY=0.01;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="kafka-container" target="consumer2-box" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="1150" as="sourcePoint" />
            <mxPoint x="450" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-kafka-c3" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.843;exitY=0.982;entryX=0.5;entryY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="kafka-container" target="consumer3-box" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="1150" as="sourcePoint" />
            <mxPoint x="450" y="1100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="benefits-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="1315" width="650" height="160" as="geometry" />
        </mxCell>
        <mxCell id="benefits-title" value="&lt;b&gt;VANTAGENS DA ARQUITETURA CDC + KAFKA&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=13;fontColor=#ffffff;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="1320" width="650" height="25" as="geometry" />
        </mxCell>
        <mxCell id="benefit1" value="&lt;b&gt;1. Tempo Real:&lt;/b&gt; Captura mudanças em milissegundos sem impactar performance do banco" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="106" y="1355" width="310" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit2" value="&lt;b&gt;2. Desacoplamento:&lt;/b&gt; Banco e consumidores independentes, escalabilidade isolada" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="106" y="1385" width="310" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit3" value="&lt;b&gt;3. Histórico Completo:&lt;/b&gt; Log de todas alterações preservado nos tópicos Kafka" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="106" y="1413" width="310" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit4" value="&lt;b&gt;4. Múltiplos Consumidores:&lt;/b&gt; Mesmo evento processado para diferentes finalidades" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="106" y="1444" width="310" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit5" value="&lt;b&gt;5. Resiliência:&lt;/b&gt; Tolerância a falhas e reprocessamento garantido" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="425" y="1355" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit6" value="&lt;b&gt;6. Exatidão:&lt;/b&gt; Exactly-once semantics evita duplicação ou perda" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="425" y="1385" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit7" value="&lt;b&gt;7. Schema Evolution:&lt;/b&gt; Adaptação automática a mudanças na estrutura" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="425" y="1413" width="355" height="20" as="geometry" />
        </mxCell>
        <mxCell id="benefit8" value="&lt;b&gt;8. Observabilidade:&lt;/b&gt; Rastreamento completo do fluxo de dados" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="425" y="1444" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="usecases-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="1500" width="650" height="140" as="geometry" />
        </mxCell>
        <mxCell id="usecases-title" value="&lt;b&gt;CASOS DE USO COMUNS&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=13;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="1505" width="650" height="25" as="geometry" />
        </mxCell>
        <mxCell id="usecase1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="115" y="1540" width="150" height="85" as="geometry" />
        </mxCell>
        <mxCell id="usecase1-title" value="&lt;b&gt;Sincronização&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="115" y="1545" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="usecase1-desc" value="• OLTP → OLAP&lt;br&gt;• SQL → NoSQL&lt;br&gt;• Cache invalidation&lt;br&gt;• Data replication" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="125" y="1562" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="usecase2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="285" y="1540" width="150" height="85" as="geometry" />
        </mxCell>
        <mxCell id="usecase2-title" value="&lt;b&gt;Auditoria&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="285" y="1545" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="usecase2-desc" value="• Compliance&lt;br&gt;• Change tracking&lt;br&gt;• Event sourcing&lt;br&gt;• Temporal queries" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="295" y="1562" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="usecase3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="455" y="1540" width="150" height="85" as="geometry" />
        </mxCell>
        <mxCell id="usecase3-title" value="&lt;b&gt;Notificações&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="455" y="1545" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="usecase3-desc" value="• Push notifications&lt;br&gt;• Email triggers&lt;br&gt;• Webhooks&lt;br&gt;• Real-time dashboards" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="465" y="1562" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="usecase4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="625" y="1540" width="110" height="85" as="geometry" />
        </mxCell>
        <mxCell id="usecase4-title" value="&lt;b&gt;Analytics&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="625" y="1545" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="usecase4-desc" value="• Stream analytics&lt;br&gt;• ML pipelines&lt;br&gt;• Anomaly detection&lt;br&gt;• BI feeds" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="633" y="1562" width="92" height="50" as="geometry" />
        </mxCell>
        <mxCell id="H7fOQ3zi5FjIz42s89kp-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.179;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Helvetica;fontSize=12;fontColor=default;" edge="1" parent="1" source="benefit5" target="benefit5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
