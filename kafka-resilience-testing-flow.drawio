<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram id="kafka-resilience-testing-flow" name="Kafka Resilience Testing Flow">
    <mxGraphModel dx="1425" dy="828" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="Fluxo de Teste de Resiliência Kafka&#xa;Simulação de Falhas e Medição de Recuperação" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="150" y="20" width="550" height="50" as="geometry" />
        </mxCell>
        <mxCell id="phase1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#000000;strokeWidth=3" parent="1" vertex="1">
          <mxGeometry x="40" y="100" width="770" height="200" as="geometry" />
        </mxCell>
        <mxCell id="phase1-label" value="FASE 1: PREPARAÇÃO" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="315" y="110" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="step1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="70" y="150" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="step1-number" value="1" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="90" y="160" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="step1-title" value="Setup Baseline" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="130" y="165" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="step1-items" value="✓ Deploy cluster completo&#xa;✓ Configurar replicação (RF≥3)&#xa;✓ Criar tópicos de teste&#xa;✓ Iniciar produtores/consumidores&#xa;✓ Coletar métricas baseline" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="85" y="200" width="185" height="70" as="geometry" />
        </mxCell>
        <mxCell id="step2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="315" y="150" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="step2-number" value="2" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="335" y="160" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="step2-title" value="Instrumentação" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="375" y="165" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="step2-items" value="✓ Ativar monitoramento&#xa;✓ Configurar Prometheus/Grafana&#xa;✓ Habilitar logging detalhado&#xa;✓ Preparar dashboards&#xa;✓ Definir alertas de teste" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="330" y="200" width="185" height="70" as="geometry" />
        </mxCell>
        <mxCell id="step3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="560" y="150" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="step3-number" value="3" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="580" y="160" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="step3-title" value="Definir Cenários" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="620" y="165" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="step3-items" value="✓ Escolher tipo de falha&#xa;✓ Definir duração&#xa;✓ Preparar scripts de injeção&#xa;✓ Estabelecer critérios OK&#xa;✓ Planejar rollback" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="575" y="200" width="185" height="70" as="geometry" />
        </mxCell>
        <mxCell id="phase2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#000000;strokeWidth=3" parent="1" vertex="1">
          <mxGeometry x="40" y="330" width="770" height="400" as="geometry" />
        </mxCell>
        <mxCell id="phase2-label" value="FASE 2: INJEÇÃO DE FALHAS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="290" y="340" width="270" height="25" as="geometry" />
        </mxCell>
        <mxCell id="failure1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="70" y="385" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="failure1-icon" value="4" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="90" y="395" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure1-title" value="Falha de Broker" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="120" y="390" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure1-command" value="Comando:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="430" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure1-cmd" value="kill -9 " style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=8;fontFamily=Courier New" parent="1" vertex="1">
          <mxGeometry x="85" y="448" width="185" height="20" as="geometry" />
        </mxCell>
        <mxCell id="failure1-measure" value="Medições:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="475" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure1-metrics" value="• Tempo de eleição de líder&#xa;• Mensagens perdidas (0)&#xa;• Latência de replicação&#xa;• Tempo de recuperação" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="85" y="490" width="185" height="45" as="geometry" />
        </mxCell>
        <mxCell id="failure2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="315" y="385" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="failure2-icon" value="5" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="335" y="395" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure2-title" value="Partição de Rede" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="365" y="390" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure2-command" value="Comando:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="330" y="430" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure2-cmd" value="iptables -A INPUT -s -j DROP" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=8;fontFamily=Courier New" parent="1" vertex="1">
          <mxGeometry x="330" y="448" width="185" height="25" as="geometry" />
        </mxCell>
        <mxCell id="failure2-measure" value="Medições:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="330" y="475" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure2-metrics" value="• Detecção de split-brain&#xa;• ISR shrinking time&#xa;• Producer retries&#xa;• Consumer rebalance" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="330" y="495" width="185" height="40" as="geometry" />
        </mxCell>
        <mxCell id="failure3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="560" y="385" width="220" height="160" as="geometry" />
        </mxCell>
        <mxCell id="failure3-icon" value="6" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="580" y="395" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure3-title" value="Sobrecarga de Recursos" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="610" y="390" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure3-command" value="Comando:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="575" y="430" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure3-cmd" value="stress --cpu 8 --io 4 --vm 2&amp;nbsp;&lt;div&gt;--vm-bytes 1G&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=8;fontFamily=Courier New" parent="1" vertex="1">
          <mxGeometry x="575" y="448" width="185" height="25" as="geometry" />
        </mxCell>
        <mxCell id="failure3-measure" value="Medições:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="575" y="475" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure3-metrics" value="• Request latency increase&#xa;• Throughput degradation&#xa;• GC pause frequency&#xa;• Memory pressure" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="575" y="495" width="185" height="40" as="geometry" />
        </mxCell>
        <mxCell id="failure4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="70" y="565" width="220" height="145" as="geometry" />
        </mxCell>
        <mxCell id="failure4-icon" value="7" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="90" y="575" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure4-title" value="Falha de Disco" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="120" y="570" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure4-command" value="Comando:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="610" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure4-cmd" value="chmod 000 /kafka/logs/*" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=8;fontFamily=Courier New" parent="1" vertex="1">
          <mxGeometry x="85" y="628" width="185" height="20" as="geometry" />
        </mxCell>
        <mxCell id="failure4-measure" value="Medições:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="655" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure4-metrics" value="• Broker offline time&#xa;• Data recovery from replicas" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="85" y="670" width="185" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure5-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="315" y="565" width="220" height="145" as="geometry" />
        </mxCell>
        <mxCell id="failure5-icon" value="8" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="335" y="575" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure5-title" value="ZooKeeper Failover" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="365" y="570" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure5-command" value="Comando:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="330" y="610" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure5-cmd" value="systemctl stop zookeeper" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=8;fontFamily=Courier New" parent="1" vertex="1">
          <mxGeometry x="330" y="628" width="185" height="20" as="geometry" />
        </mxCell>
        <mxCell id="failure5-measure" value="Medições:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="330" y="655" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure5-metrics" value="• Quorum recovery time&#xa;• Metadata sync latency" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="330" y="670" width="185" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure6-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="560" y="565" width="220" height="145" as="geometry" />
        </mxCell>
        <mxCell id="failure6-icon" value="9" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=14;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="580" y="575" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure6-title" value="Latência de Rede" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="610" y="570" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="failure6-command" value="Comando:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="575" y="610" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure6-cmd" value="tc qdisc add dev eth0&#xa;root netem delay 200ms" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=8;fontFamily=Courier New" parent="1" vertex="1">
          <mxGeometry x="575" y="628" width="185" height="25" as="geometry" />
        </mxCell>
        <mxCell id="failure6-measure" value="Medições:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="575" y="660" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="failure6-metrics" value="• End-to-end latency&#xa;• Replication lag increase" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="575" y="675" width="185" height="25" as="geometry" />
        </mxCell>
        <mxCell id="phase3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#000000;strokeWidth=3" parent="1" vertex="1">
          <mxGeometry x="40" y="760" width="770" height="240" as="geometry" />
        </mxCell>
        <mxCell id="phase3-label" value="FASE 3: MONITORAMENTO DURANTE FALHA" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="250" y="770" width="350" height="25" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="70" y="815" width="340" height="160" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-icon" value="10" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="90" y="825" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-title" value="Métricas em Tempo Real" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="140" y="820" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-system" value="Sistema:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="860" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-system-items" value="• CPU, Memória, Disk I/O&#xa;• Network bandwidth&#xa;• JVM heap/GC" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="85" y="875" width="150" height="35" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-kafka" value="Kafka:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="915" width="60" height="15" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-kafka-items" value="• UnderReplicatedPartitions&#xa;• OfflinePartitions&#xa;• ActiveControllers&#xa;• ISR shrink/expand rate" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="85" y="930" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-app" value="Aplicação:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="255" y="860" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="monitor1-app-items" value="• Producer send rate&#xa;• Consumer lag&#xa;• Error rates&#xa;• Request latency (p99)&#xa;• Message loss (deve ser 0)&#xa;• Duplicates" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="255" y="875" width="140" height="95" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="440" y="815" width="340" height="160" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-icon" value="11" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="460" y="825" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-title" value="Logs e Traces" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="510" y="820" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-logs" value="Análise de Logs:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="455" y="860" width="110" height="15" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-logs-items" value="• Broker state.log&#xa;• Controller.log&#xa;• Server.log&#xa;• Exceptions e stack traces" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="455" y="875" width="150" height="45" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-trace" value="Distributed Tracing:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="455" y="925" width="130" height="15" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-trace-items" value="• Trace IDs para mensagens&#xa;• Latência end-to-end&#xa;• Gargalos na pipeline" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="455" y="940" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="monitor2-tools" value="Ferramentas:&#xa;Kibana, Jaeger, Zipkin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="625" y="865" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="phase4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#000000;strokeWidth=3" parent="1" vertex="1">
          <mxGeometry x="40" y="1030" width="770" height="200" as="geometry" />
        </mxCell>
        <mxCell id="phase4-label" value="FASE 4: RECUPERAÇÃO E MEDIÇÃO" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="270" y="1040" width="310" height="25" as="geometry" />
        </mxCell>
        <mxCell id="recovery1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="70" y="1080" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="recovery1-icon" value="12" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="90" y="1090" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="recovery1-title" value="Restaurar Sistema" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="130" y="1095" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="recovery1-items" value="✓ Reverter injeção de falha&#xa;✓ Reiniciar brokers/serviços&#xa;✓ Verificar ISR recovery&#xa;✓ Checar consumer lag&#xa;✓ Validar integridade dados" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="85" y="1130" width="185" height="70" as="geometry" />
        </mxCell>
        <mxCell id="recovery2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="315" y="1080" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="recovery2-icon" value="13" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="335" y="1090" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="recovery2-title" value="Calcular Métricas" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="375" y="1095" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="recovery2-items" value="• RTO (Recovery Time)&#xa;• RPO (Recovery Point)&#xa;• MTTR (Mean Time To Repair)&#xa;• Availability (%)&#xa;• Data consistency check" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="330" y="1130" width="185" height="70" as="geometry" />
        </mxCell>
        <mxCell id="recovery3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="560" y="1080" width="220" height="130" as="geometry" />
        </mxCell>
        <mxCell id="recovery3-icon" value="14" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontStyle=1;fontColor=#ffffff" parent="1" vertex="1">
          <mxGeometry x="580" y="1090" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="recovery3-title" value="Documentar Resultados" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="620" y="1095" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="recovery3-items" value="✓ Criar relatório de teste&#xa;✓ Screenshots/gráficos&#xa;✓ Comparar com SLAs&#xa;✓ Identificar melhorias&#xa;✓ Atualizar runbooks" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="575" y="1130" width="185" height="70" as="geometry" />
        </mxCell>
        <mxCell id="criteria-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="40" y="1260" width="770" height="180" as="geometry" />
        </mxCell>
        <mxCell id="criteria-label" value="CRITÉRIOS DE SUCESSO" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="305" y="1270" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="criteria-availability" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=1" parent="1" vertex="1">
          <mxGeometry x="70" y="1305" width="160" height="115" as="geometry" />
        </mxCell>
        <mxCell id="criteria-availability-title" value="Disponibilidade" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="85" y="1315" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="criteria-availability-items" value="✓ Nenhuma partição offline&#xa;✓ Eleição de líder &amp;lt; 30s&#xa;✓ ISR recovery &amp;lt; 2min&#xa;✓ Cluster availability ≥ 99.9%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="85" y="1340" width="135" height="70" as="geometry" />
        </mxCell>
        <mxCell id="criteria-data" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=1" parent="1" vertex="1">
          <mxGeometry x="250" y="1305" width="160" height="115" as="geometry" />
        </mxCell>
        <mxCell id="criteria-data-title" value="Integridade de Dados" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="265" y="1315" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="criteria-data-items" value="✓ Zero perda de mensagens&#xa;✓ No data corruption&#xa;✓ Checksum validation OK&#xa;✓ Offset consistency" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="265" y="1340" width="130" height="70" as="geometry" />
        </mxCell>
        <mxCell id="criteria-performance" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=1" parent="1" vertex="1">
          <mxGeometry x="430" y="1305" width="160" height="115" as="geometry" />
        </mxCell>
        <mxCell id="criteria-performance-title" value="Performance" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="445" y="1315" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="criteria-performance-items" value="✓ Latência p99 &amp;lt; 100ms&#xa;✓ Throughput ≥ 80% baseline&#xa;✓ Consumer lag &amp;lt; 1000 msgs&#xa;✓ No request timeouts" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="445" y="1340" width="135" height="70" as="geometry" />
        </mxCell>
        <mxCell id="criteria-automation" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=1" parent="1" vertex="1">
          <mxGeometry x="610" y="1305" width="160" height="115" as="geometry" />
        </mxCell>
        <mxCell id="criteria-automation-title" value="Automação" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="625" y="1315" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="criteria-automation-items" value="✓ Alertas disparados&#xa;✓ Auto-recovery testado&#xa;✓ Runbooks validados&#xa;✓ Testes reproduzíveis" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="625" y="1340" width="130" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tools-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="40" y="1470" width="770" height="120" as="geometry" />
        </mxCell>
        <mxCell id="tools-label" value="FERRAMENTAS RECOMENDADAS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="285" y="1480" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="tools-chaos" value="Chaos Engineering:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="70" y="1504" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="tools-chaos-items" value="• Chaos Monkey (Netflix)&#xa;• Gremlin&#xa;• Pumba (Docker)&#xa;• Toxiproxy" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="70" y="1529" width="170" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-monitoring" value="Monitoramento:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="260" y="1504" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="tools-monitoring-items" value="• Prometheus + Grafana&#xa;• Kafka Manager&#xa;• Burrow (lag monitor)&#xa;• JMX Exporter" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="260" y="1529" width="160" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-testing" value="Testing:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="440" y="1504" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="tools-testing-items" value="• kafka-producer-perf-test&#xa;• kafka-consumer-perf-test&#xa;• Apache JMeter&#xa;• Trogdor" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="440" y="1529" width="170" height="45" as="geometry" />
        </mxCell>
        <mxCell id="tools-automation" value="Automação:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="630" y="1504" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="tools-automation-items" value="• Ansible/Terraform&#xa;• Kubernetes Operators&#xa;• CI/CD pipelines&#xa;• Custom scripts" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="630" y="1529" width="130" height="45" as="geometry" />
        </mxCell>
        <mxCell id="arrow-phase1-phase2" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=3;endFill=1" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="425" y="300" as="sourcePoint" />
            <mxPoint x="425" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-phase2-phase3" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=3;endFill=1" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="425" y="730" as="sourcePoint" />
            <mxPoint x="425" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-phase3-phase4" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=3;endFill=1" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="425" y="1000" as="sourcePoint" />
            <mxPoint x="425" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-phase4-criteria" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=3;endFill=1" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="425" y="1230" as="sourcePoint" />
            <mxPoint x="425" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="footer-note" value="Processo completo de teste de resiliência: preparação → injeção de falhas → monitoramento → recuperação.&#xa;Validação sistemática da capacidade do cluster de se recuperar de falhas mantendo disponibilidade e integridade." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="100" y="1610" width="650" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
