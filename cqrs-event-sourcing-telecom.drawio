<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram name="CQRS Event Sourcing Telecom" id="cqrs-event-sourcing-telecom">
    <mxGraphModel dx="1425" dy="828" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1600" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="&lt;b&gt;CQRS + Event Sourcing&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="275" y="40" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="Sistema de Telecomunicações" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="275" y="75" width="300" height="25" as="geometry" />
        </mxCell>
        <mxCell id="client-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="130" width="650" height="100" as="geometry" />
        </mxCell>
        <mxCell id="client-title" value="&lt;b&gt;CAMADA DE CLIENTES&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=14;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="100" y="135" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mobile-app" value="Mobile App" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="140" y="175" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="web-portal" value="Web Portal" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="270" y="175" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="call-center" value="Call Center" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="175" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="admin-panel" value="Admin Panel" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="530" y="175" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="command-side-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="270" width="310" height="480" as="geometry" />
        </mxCell>
        <mxCell id="command-side-title" value="&lt;b&gt;COMMAND SIDE (ESCRITA)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=13;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="275" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="command-api" value="&lt;b&gt;Command API&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="155" y="320" width="200" height="45" as="geometry" />
        </mxCell>
        <mxCell id="commands-label" value="Comandos:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="125" y="380" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cmd1" value="• ActivateLineCommand" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="135" y="400" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="cmd2" value="• ChangePlanCommand" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="135" y="418" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="cmd3" value="• AddCreditsCommand" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="135" y="436" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="cmd4" value="• SuspendLineCommand" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="135" y="454" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="command-handler" value="&lt;b&gt;Command Handler&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="155" y="485" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="write-db" value="&lt;b&gt;Write Database&lt;/b&gt;&lt;br&gt;(Estado Atual)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="155" y="545" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="event-store-topic" value="&lt;b&gt;Tópico: event-store&lt;/b&gt;&lt;br&gt;(Event Sourcing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=11;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="155" y="620" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="event-store-desc" value="Histórico completo de eventos" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=2" parent="1" vertex="1">
          <mxGeometry x="155" y="673" width="200" height="15" as="geometry" />
        </mxCell>
        <mxCell id="query-side-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=3;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="440" y="270" width="310" height="480" as="geometry" />
        </mxCell>
        <mxCell id="query-side-title" value="&lt;b&gt;QUERY SIDE (LEITURA)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=13;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="440" y="275" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="query-api" value="&lt;b&gt;Query API&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="495" y="320" width="200" height="45" as="geometry" />
        </mxCell>
        <mxCell id="queries-label" value="Consultas:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="465" y="380" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="qry1" value="• GetCustomerAccountQuery" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="475" y="400" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="qry2" value="• GetCallHistoryQuery" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="475" y="418" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="qry3" value="• GetBalanceQuery" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="475" y="436" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="qry4" value="• GetUsageReportQuery" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="475" y="454" width="250" height="15" as="geometry" />
        </mxCell>
        <mxCell id="read-models-label" value="&lt;b&gt;Modelos de Leitura:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=11;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="440" y="485" width="310" height="25" as="geometry" />
        </mxCell>
        <mxCell id="read-model1" value="Customer View DB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="465" y="520" width="125" height="35" as="geometry" />
        </mxCell>
        <mxCell id="read-model2" value="Call History DB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="605" y="520" width="125" height="35" as="geometry" />
        </mxCell>
        <mxCell id="read-model3" value="Balance Cache" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="465" y="570" width="125" height="35" as="geometry" />
        </mxCell>
        <mxCell id="read-model4" value="Analytics DB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="605" y="570" width="125" height="35" as="geometry" />
        </mxCell>
        <mxCell id="read-model5" value="Search Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="465" y="620" width="125" height="35" as="geometry" />
        </mxCell>
        <mxCell id="read-model6" value="Billing View DB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="605" y="620" width="125" height="35" as="geometry" />
        </mxCell>
        <mxCell id="arrow-client-cmd1" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.2;entryY=0;exitDx=0;exitDy=0;" parent="1" source="mobile-app" target="command-api" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-client-cmd-label" value="Comandos" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="140" y="250" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="arrow-client-cmd2" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.3;exitY=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="web-portal" target="command-api" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-client-qry1" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.945;exitY=1.028;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.048;entryY=-0.009;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="call-center" target="query-api" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="506" y="317" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-client-qry-label" value="Consultas" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="640" y="250" width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="arrow-client-qry2" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;entryX=0.59;entryY=0.052;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="admin-panel" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="620" y="240" as="sourcePoint" />
            <mxPoint x="613" y="320.3399999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-cmd-api-handler" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" parent="1" source="command-api" target="command-handler" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-handler-writedb" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" parent="1" source="command-handler" target="write-db" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-handler-eventstore" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" parent="1" source="write-db" target="event-store-topic" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-writedb-label" value="publica" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="265" y="597" width="50" height="15" as="geometry" />
        </mxCell>
        <mxCell id="arrow-eventstore-query" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=3;exitX=1;exitY=0.5;entryX=0;entryY=0.781;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="event-store-topic" target="query-side-container" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="700" as="sourcePoint" />
            <mxPoint x="450" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-eventstore-query-label" value="eventos" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="354" y="625" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="arrow-query-read1" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;exitX=0.25;exitY=1;entryX=0.657;entryY=0.023;startArrow=classic;startFill=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="query-api" target="read-model1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-query-read2" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;exitX=0.75;exitY=1;entryX=0.337;entryY=0.037;startArrow=classic;startFill=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="query-api" target="read-model2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-query-read3" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;exitX=0.15;exitY=1;entryX=0.5;entryY=0;startArrow=classic;startFill=1;" parent="1" source="query-api" target="read-model3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-query-read4" value="" style="endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;exitX=0.85;exitY=1;entryX=0.5;entryY=0;startArrow=classic;startFill=1;" parent="1" source="query-api" target="read-model4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="500" as="sourcePoint" />
            <mxPoint x="450" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="event-flow-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="790" width="650" height="280" as="geometry" />
        </mxCell>
        <mxCell id="event-flow-title" value="&lt;b&gt;FLUXO DE EVENTOS E TÓPICOS KAFKA&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=14;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="100" y="795" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="benefits-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="1110" width="650" height="180" as="geometry" />
        </mxCell>
        <mxCell id="benefits-title" value="&lt;b&gt;BENEFÍCIOS DA ARQUITETURA CQRS + EVENT SOURCING&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=13;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="100" y="1115" width="650" height="30" as="geometry" />
        </mxCell>
        <mxCell id="benefit1" value="✓ &lt;b&gt;Separação de Responsabilidades:&lt;/b&gt;&lt;br&gt;   Escrita e leitura otimizadas independentemente" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="120" y="1155" width="300" height="35" as="geometry" />
        </mxCell>
        <mxCell id="benefit2" value="✓ &lt;b&gt;Auditoria Completa:&lt;/b&gt;&lt;br&gt;   Todo histórico de mudanças preservado" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="120" y="1195" width="300" height="35" as="geometry" />
        </mxCell>
        <mxCell id="benefit3" value="✓ &lt;b&gt;Escalabilidade:&lt;/b&gt;&lt;br&gt;   Leitura e escrita escalam separadamente" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="120" y="1235" width="300" height="35" as="geometry" />
        </mxCell>
        <mxCell id="benefit4" value="✓ &lt;b&gt;Replay de Eventos:&lt;/b&gt;&lt;br&gt;   Reprocessar histórico para novos modelos" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="430" y="1155" width="300" height="35" as="geometry" />
        </mxCell>
        <mxCell id="benefit5" value="✓ &lt;b&gt;Modelos Especializados:&lt;/b&gt;&lt;br&gt;   Cada consulta tem seu próprio modelo otimizado" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="430" y="1195" width="300" height="35" as="geometry" />
        </mxCell>
        <mxCell id="benefit6" value="✓ &lt;b&gt;Eventual Consistency:&lt;/b&gt;&lt;br&gt;   Consistência eventual entre write e read models" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="430" y="1235" width="300" height="35" as="geometry" />
        </mxCell>
        <mxCell id="concepts-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#000000;strokeWidth=2;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="100" y="1320" width="650" height="130" as="geometry" />
        </mxCell>
        <mxCell id="concepts-title" value="&lt;b&gt;CONCEITOS-CHAVE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=13;fontColor=#000000;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="100" y="1325" width="650" height="25" as="geometry" />
        </mxCell>
        <mxCell id="concept1" value="&lt;b&gt;Command:&lt;/b&gt; Intenção de mudar estado (imperativo)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="130" y="1360" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="concept2" value="&lt;b&gt;Event:&lt;/b&gt; Fato que já ocorreu (passado)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="130" y="1385" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="concept3" value="&lt;b&gt;Query:&lt;/b&gt; Solicitação de leitura (não modifica estado)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="130" y="1410" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="concept4" value="&lt;b&gt;Projection:&lt;/b&gt; Consumidor que constrói read model" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="450" y="1360" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="concept5" value="&lt;b&gt;Event Store:&lt;/b&gt; Source of truth com histórico completo" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="450" y="1385" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="concept6" value="&lt;b&gt;Write Model:&lt;/b&gt; Otimizado para operações de escrita" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="450" y="1410" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="daMs3TAzYVWkOGhj9i0M-2" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="125" y="688" width="250" height="55" as="geometry" />
        </mxCell>
        <mxCell id="events-label" value="Eventos:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="daMs3TAzYVWkOGhj9i0M-2" vertex="1">
          <mxGeometry width="70" height="15" as="geometry" />
        </mxCell>
        <mxCell id="evt1" value="• LineActivatedEvent" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-2" vertex="1">
          <mxGeometry x="10" y="15" width="240" height="12" as="geometry" />
        </mxCell>
        <mxCell id="evt2" value="• PlanChangedEvent" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-2" vertex="1">
          <mxGeometry x="10" y="29" width="240" height="12" as="geometry" />
        </mxCell>
        <mxCell id="evt3" value="• CreditsAddedEvent" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-2" vertex="1">
          <mxGeometry x="10" y="43" width="240" height="12" as="geometry" />
        </mxCell>
        <mxCell id="daMs3TAzYVWkOGhj9i0M-3" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="440" y="665" width="310" height="76" as="geometry" />
        </mxCell>
        <mxCell id="projections-label" value="&lt;b&gt;Projeções (Consumidores):&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fontColor=#000000;fontStyle=1" parent="daMs3TAzYVWkOGhj9i0M-3" vertex="1">
          <mxGeometry width="310" height="20" as="geometry" />
        </mxCell>
        <mxCell id="proj1" value="• CustomerViewProjection" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-3" vertex="1">
          <mxGeometry x="25" y="22" width="250" height="12" as="geometry" />
        </mxCell>
        <mxCell id="proj2" value="• CallHistoryProjection" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-3" vertex="1">
          <mxGeometry x="25" y="36" width="250" height="12" as="geometry" />
        </mxCell>
        <mxCell id="proj3" value="• BalanceProjection" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-3" vertex="1">
          <mxGeometry x="25" y="50" width="250" height="12" as="geometry" />
        </mxCell>
        <mxCell id="proj4" value="• AnalyticsProjection" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=9;fontColor=#000000;fontFamily=Courier New;" parent="daMs3TAzYVWkOGhj9i0M-3" vertex="1">
          <mxGeometry x="25" y="64" width="250" height="12" as="geometry" />
        </mxCell>
        <mxCell id="topic1" value="&lt;b&gt;commands.line-activation&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#ffffff;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="824" width="280" height="35" as="geometry" />
        </mxCell>
        <mxCell id="topic1-consumer" value="→ LineActivationHandler" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="420" y="829" width="150" height="25" as="geometry" />
        </mxCell>
        <mxCell id="topic2" value="&lt;b&gt;commands.plan-change&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#ffffff;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="874" width="280" height="35" as="geometry" />
        </mxCell>
        <mxCell id="topic2-consumer" value="→ PlanChangeHandler" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="420" y="879" width="150" height="25" as="geometry" />
        </mxCell>
        <mxCell id="topic3" value="&lt;b&gt;events.line-activated&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cccccc;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="924" width="280" height="35" as="geometry" />
        </mxCell>
        <mxCell id="topic3-consumers" value="→ CustomerView, Billing, Analytics" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="420" y="929" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="topic4" value="&lt;b&gt;events.plan-changed&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cccccc;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="974" width="280" height="35" as="geometry" />
        </mxCell>
        <mxCell id="topic4-consumers" value="→ CustomerView, Balance, Billing" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="420" y="979" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="topic5" value="&lt;b&gt;events.credits-added&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cccccc;strokeColor=#000000;strokeWidth=2;fontSize=12;fontColor=#000000;fontFamily=Courier New;" parent="1" vertex="1">
          <mxGeometry x="130" y="1024" width="280" height="35" as="geometry" />
        </mxCell>
        <mxCell id="topic5-consumers" value="→ Balance, Billing, Notification" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=12;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="420" y="1029" width="200" height="25" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
